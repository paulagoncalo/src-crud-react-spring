{"ast":null,"code":"import _regeneratorRuntime from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/projects/src-crud-backend-spring/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ClientList=/*#__PURE__*/function(_Component){_inherits(ClientList,_Component);var _super=_createSuper(ClientList);function ClientList(props){var _this;_classCallCheck(this,ClientList);_this=_super.call(this,props);_this.state={clients:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(ClientList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/clients').then(function(response){return response.json();}).then(function(data){return _this2.setState({clients:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _this3=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/clients/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedClients=_toConsumableArray(_this3.state.clients).filter(function(i){return i.id!==id;});_this3.setState({clients:updatedClients});});case 2:case\"end\":return _context.stop();}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var clients=this.state.clients;var clientList=clients.map(function(client){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:client.name}),/*#__PURE__*/_jsx(\"td\",{children:client.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/clients/\"+client.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(client.id);},children:\"Delete\"})]})})]},client.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/clients/new\",children:\"Add Client\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Clients\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:clientList})]})]})]});}}]);return ClientList;}(Component);export default ClientList;","map":{"version":3,"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","ClientList","props","state","clients","remove","bind","fetch","then","response","json","data","setState","id","method","headers","updatedClients","filter","i","clientList","map","client","whiteSpace","name","email"],"sources":["C:/projects/src-crud-backend-spring/frontend/src/ClientList.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport AppNavbar from './AppNavbar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ClientList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {clients: []};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/clients')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({clients: data}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/clients/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedClients = [...this.state.clients].filter(i => i.id !== id);\r\n            this.setState({clients: updatedClients});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {clients} = this.state;\r\n\r\n        const clientList = clients.map(client => {\r\n            return <tr key={client.id}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{client.name}</td>\r\n                <td>{client.email}</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/clients/\" + client.id}>Edit</Button>\r\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(client.id)}>Delete</Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <AppNavbar/>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/clients/new\">Add Client</Button>\r\n                    </div>\r\n                    <h3>Clients</h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th width=\"30%\">Name</th>\r\n                            <th width=\"30%\">Email</th>\r\n                            <th width=\"40%\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {clientList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ClientList;"],"mappings":"wiCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,CAAEC,WAAW,CAAEC,SAAS,CAAEC,KAAK,KAAQ,YAAY,CAClE,MAAOC,UAAS,KAAM,aAAa,CACnC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,2FAElCC,WAAU,wGAEZ,oBAAYC,KAAK,CAAE,4CACf,uBAAMA,KAAK,EACX,MAAKC,KAAK,CAAG,CAACC,OAAO,CAAE,EAAE,CAAC,CAC1B,MAAKC,MAAM,CAAG,MAAKA,MAAM,CAACC,IAAI,+BAAM,CAAC,aACzC,CAAC,wDAED,4BAAoB,iBAChBC,KAAK,CAAC,UAAU,CAAC,CACZC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,QAAI,OAAI,CAACC,QAAQ,CAAC,CAACR,OAAO,CAAEO,IAAI,CAAC,CAAC,GAAC,CACrD,CAAC,uGAED,iBAAaE,EAAE,yJACLN,MAAK,oBAAaM,EAAE,EAAI,CAC1BC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAACP,IAAI,CAAC,UAAM,CACV,GAAIQ,eAAc,CAAG,mBAAI,MAAI,CAACb,KAAK,CAACC,OAAO,EAAEa,MAAM,CAAC,SAAAC,CAAC,QAAIA,EAAC,CAACL,EAAE,GAAKA,EAAE,GAAC,CACrE,MAAI,CAACD,QAAQ,CAAC,CAACR,OAAO,CAAEY,cAAc,CAAC,CAAC,CAC5C,CAAC,CAAC,sDACL,oGAED,iBAAS,iBACL,GAAOZ,QAAO,CAAI,IAAI,CAACD,KAAK,CAArBC,OAAO,CAEd,GAAMe,WAAU,CAAGf,OAAO,CAACgB,GAAG,CAAC,SAAAC,MAAM,CAAI,CACrC,mBAAO,mCACH,WAAI,KAAK,CAAE,CAACC,UAAU,CAAE,QAAQ,CAAE,UAAED,MAAM,CAACE,IAAI,EAAM,cACrD,oBAAKF,MAAM,CAACG,KAAK,EAAM,cACvB,iCACI,MAAC,WAAW,yBACR,KAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAExB,IAAK,CAAC,EAAE,CAAE,WAAW,CAAGqB,MAAM,CAACR,EAAG,UAAC,MAAI,EAAS,cACvF,KAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAM,OAAI,CAACR,MAAM,CAACgB,MAAM,CAACR,EAAE,CAAC,EAAC,UAAC,QAAM,EAAS,GAC7E,EACb,GAROQ,MAAM,CAACR,EAAE,CASpB,CACT,CAAC,CAAC,CAEF,mBACI,oCACI,KAAC,SAAS,IAAE,cACZ,MAAC,SAAS,EAAC,KAAK,6BACZ,YAAK,SAAS,CAAC,aAAa,uBACxB,KAAC,MAAM,EAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAEb,IAAK,CAAC,EAAE,CAAC,cAAc,UAAC,YAAU,EAAS,EACtE,cACN,oBAAI,SAAO,EAAK,cAChB,MAAC,KAAK,EAAC,SAAS,CAAC,MAAM,wBACnB,oCACA,mCACI,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,cACzB,WAAI,KAAK,CAAC,KAAK,UAAC,OAAK,EAAK,cAC1B,WAAI,KAAK,CAAC,KAAK,UAAC,SAAO,EAAK,GAC3B,EACG,cACR,uBACCmB,UAAU,EACH,GACJ,GACA,GACV,CAEd,CAAC,wBAlEoBzB,SAAS,EAqElC,cAAeO,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
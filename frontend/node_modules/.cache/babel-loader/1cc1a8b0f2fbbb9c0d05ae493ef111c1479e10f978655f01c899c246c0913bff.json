{"ast":null,"code":"import _objectSpread from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/projects/src-crud-react-spring/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import{Button,Container,Form,FormGroup,Input,Label}from'reactstrap';import AppNavbar from'./AppNavbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ClientEdit=/*#__PURE__*/function(_Component){_inherits(ClientEdit,_Component);var _super=_createSuper(ClientEdit);function ClientEdit(props){var _this;_classCallCheck(this,ClientEdit);_this=_super.call(this,props);_this.emptyItem={name:'',email:''};_this.state={item:_this.emptyItem};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ClientEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var client;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(this.props.match.params.id!=='new')){_context.next=7;break;}_context.next=3;return fetch(\"/clients/\".concat(this.props.match.params.id));case 3:_context.next=5;return _context.sent.json();case 5:client=_context.sent;this.setState({item:client});case 7:case\"end\":return _context.stop();}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var item=_objectSpread({},this.state.item);item[name]=value;this.setState({item:item});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var item;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();item=this.state.item;_context2.next=4;return fetch('/clients'+(item.id?'/'+item.id:''),{method:item.id?'PUT':'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(item)});case 4:this.props.history.push('/clients');case 5:case\"end\":return _context2.stop();}},_callee2,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var item=this.state.item;var title=/*#__PURE__*/_jsx(\"h2\",{children:item.id?'Edit Client':'Add Client'});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{children:[title,/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"name\",id:\"name\",value:item.name||'',onChange:this.handleChange,autoComplete:\"name\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"email\",id:\"email\",value:item.email||'',onChange:this.handleChange,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",children:\"Save\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"secondary\",tag:Link,to:\"/clients\",children:\"Cancel\"})]})]})]})]});}}]);return ClientEdit;}(Component);export default withRouter(ClientEdit);","map":{"version":3,"names":["React","Component","Link","withRouter","Button","Container","Form","FormGroup","Input","Label","AppNavbar","ClientEdit","props","emptyItem","name","email","state","item","handleChange","bind","handleSubmit","match","params","id","fetch","json","client","setState","event","target","value","preventDefault","method","headers","body","JSON","stringify","history","push","title"],"sources":["C:/projects/src-crud-react-spring/frontend/src/ClientEdit.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport AppNavbar from './AppNavbar';\r\n\r\nclass ClientEdit extends Component {\r\n\r\n    emptyItem = {\r\n        name: '',\r\n        email: ''\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (this.props.match.params.id !== 'new') {\r\n            const client = await (await fetch(`/clients/${this.props.match.params.id}`)).json();\r\n            this.setState({item: client});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\nasync handleSubmit(event) {\r\n    event.preventDefault();\r\n    const {item} = this.state;\r\n\r\n    await fetch('/clients' + (item.id ? '/' + item.id : ''), {\r\n        method: (item.id) ? 'PUT' : 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(item),\r\n    });\r\n    this.props.history.push('/clients');\r\n}\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        const title = <h2>{item.id ? 'Edit Client' : 'Add Client'}</h2>;\r\n\r\n        return <div>\r\n            <AppNavbar/>\r\n            <Container>\r\n                {title}\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"name\">Name</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"name\" value={item.name || ''}\r\n                               onChange={this.handleChange} autoComplete=\"name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"email\">Email</Label>\r\n                        <Input type=\"text\" name=\"email\" id=\"email\" value={item.email || ''}\r\n                               onChange={this.handleChange} autoComplete=\"email\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/clients\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(ClientEdit);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}